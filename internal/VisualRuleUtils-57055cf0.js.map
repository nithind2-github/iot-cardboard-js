{"version":3,"file":"VisualRuleUtils-57055cf0.js","sources":["../../src/Models/SharedUtils/VisualRuleUtils.ts"],"sourcesContent":["import { isNumericType } from '../Classes/3DVConfig';\nimport ViewerConfigUtility from '../Classes/ViewerConfigUtility';\nimport { DTwin } from '../Constants/Interfaces';\nimport { parseLinkedTwinExpression } from '../Services/Utils';\nimport {\n    IDTDLPropertyType,\n    IValueRange\n} from '../Types/Generated/3DScenesConfiguration-v1.0.0';\n\n/**\n * Function to determine if visual will be shown based on an evaluated expression\n */\nexport function shouldShowVisual(\n    propertyType: IDTDLPropertyType | undefined,\n    twins: Record<string, DTwin>,\n    valueExpression: string,\n    values: (number | string | boolean)[]\n): boolean {\n    const evaluatedExpression = parseLinkedTwinExpression(\n        valueExpression,\n        twins\n    );\n    if (propertyType === 'boolean') {\n        return values[0] === evaluatedExpression;\n    } else if (propertyType === 'string') {\n        return values.includes(evaluatedExpression);\n    } else if (isNumericType(propertyType)) {\n        return ViewerConfigUtility.isValueWithinRange(\n            values as number[],\n            evaluatedExpression as number\n        );\n    } else {\n        // Return false since other property types are not yet supported\n        return false;\n    }\n}\n\n/** Utility that returns if a Condition contains or not a badge icon */\nexport const hasBadge = (condition: IValueRange): boolean => {\n    return !!condition?.visual?.iconName;\n};\n"],"names":[],"mappings":";;AASA;;AAEG;AACG,SAAU,gBAAgB,CAC5B,YAA2C,EAC3C,KAA4B,EAC5B,eAAuB,EACvB,MAAqC,EAAA;IAErC,IAAM,mBAAmB,GAAG,yBAAyB,CACjD,eAAe,EACf,KAAK,CACR,CAAC;IACF,IAAI,YAAY,KAAK,SAAS,EAAE;AAC5B,QAAA,OAAO,MAAM,CAAC,CAAC,CAAC,KAAK,mBAAmB,CAAC;AAC5C,KAAA;SAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,QAAA,OAAO,MAAM,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;AAC/C,KAAA;AAAM,SAAA,IAAI,aAAa,CAAC,YAAY,CAAC,EAAE;QACpC,OAAO,mBAAmB,CAAC,kBAAkB,CACzC,MAAkB,EAClB,mBAA6B,CAChC,CAAC;AACL,KAAA;AAAM,SAAA;;AAEH,QAAA,OAAO,KAAK,CAAC;AAChB,KAAA;AACL,CAAC;AAED;AACO,IAAM,QAAQ,GAAG,UAAC,SAAsB,EAAA;;AAC3C,IAAA,OAAO,CAAC,EAAC,CAAA,EAAA,GAAA,SAAS,KAAT,IAAA,IAAA,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,CAAA,CAAC;AACzC;;;;"}